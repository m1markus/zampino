(function(e){function t(t){for(var o,r,i=t[0],c=t[1],l=t[2],u=0,m=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},s={app:0},a=[];function r(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d22d746":"82ea7e3b"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=s[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=s[e]=[t,o]}));t.push(n[2]=o);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=r(e);var l=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=s[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,n[1](l)}s[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"14a6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var o=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"red"},[n("Navbar"),n("v-main",[n("router-view")],1)],1)},a=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("v-app-bar",{attrs:{flat:"",app:""}},[n("v-btn",{staticClass:"mr-3",attrs:{color:"secondary",depressed:"",fab:"",text:"",small:""},on:{click:function(t){return e.$router.go(-1)}}},[n("v-icon",[e._v("mdi-chevron-left")])],1),n("v-toolbar-title",{staticClass:"grey--text"},[n("span",[e._v("ZAMP")]),n("span",{staticClass:"font-weight-light"},[e._v("ANO")])]),n("v-spacer"),n("v-app-bar-nav-icon",{staticClass:"grey--text",on:{click:function(t){e.drawer=!e.drawer}}})],1),n("v-navigation-drawer",{attrs:{app:"",right:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:"",nav:""}},[n("v-list-item-group",{attrs:{color:"grey"}},e._l(e.links,(function(t){return n("v-list-item",{key:t.title,attrs:{route:"",to:t.route}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",{},[e._v(e._s(t.text))])],1)],1)})),1)],1)],1)],1)},i=[],c={data(){return{drawer:!1,links:[{icon:"dashboard",text:"Home",route:"/"},{icon:"dashboard",text:"Info",route:"/info"},{icon:"dashboard",text:"About",route:"/about"}]}}},l=c,u=(n("ebe3"),n("2877")),d=n("6544"),m=n.n(d),p=n("40dc"),v=n("5bc1"),h=n("8336"),f=n("132d"),g=n("8860"),w=n("da13"),b=n("5d23"),y=n("1baa"),_=n("34c3"),k=n("f774"),x=n("2fa4"),V=n("2a7f"),C=Object(u["a"])(l,r,i,!1,null,"5c41c248",null),S=C.exports;m()(C,{VAppBar:p["a"],VAppBarNavIcon:v["a"],VBtn:h["a"],VIcon:f["a"],VList:g["a"],VListItem:w["a"],VListItemContent:b["a"],VListItemGroup:y["a"],VListItemIcon:_["a"],VListItemTitle:b["b"],VNavigationDrawer:k["a"],VSpacer:x["a"],VToolbarTitle:V["a"]});var M={name:"App",components:{Navbar:S},data:()=>({})},O=M,I=n("7496"),N=n("f6c4"),T=Object(u["a"])(O,s,a,!1,null,null,null),j=T.exports;m()(T,{VApp:I["a"],VMain:N["a"]});var P=n("8c4f"),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"grey lighten-3"},[e.showNickSelect?n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Your nickname goes here"},on:{input:e.handleNicknameInput}})],1)],1):e._e(),e.showNickSelect?n("v-row",[n("v-col",{attrs:{cols:"1"}},[n("v-btn",{staticClass:"ma-1",attrs:{disabled:e.isJoinDisabled,outlined:"",color:"indigo"},on:{click:e.handleJoin}},[e._v("Join")])],1)],1):e._e(),e.showNickSelect?e._e():n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-timeline",e._l(e.chatHistory,(function(e){return n("zamp-chat-message",{key:e.id,attrs:{message:e}})})),1)],1)],1),e.showNickSelect?e._e():n("v-row",[n("v-col",{attrs:{cols:"12",sm:"9"}},[n("v-text-field",{ref:"focusNextMessage",attrs:{label:"Your message"},model:{value:e.nextMessage,callback:function(t){e.nextMessage=t},expression:"nextMessage"}})],1),n("v-col",{attrs:{cols:"12",sm:"3"}},[n("v-btn",{staticClass:"ma-1",attrs:{rounded:"",outlined:"",color:"indigo"},on:{click:e.handleSend}},[e._v("Send")])],1)],1)],1)},J=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-timeline-item",{attrs:{small:"","fill-dot":"",color:e.computeMiddleBallColor,left:e.computeShowLeft,right:e.computeShowRight}},[n("v-card",[n("v-card-title",{staticClass:"lighten-2",class:e.computeClassForCardTitleBackground},[n("v-icon",{staticClass:"mr-4",attrs:{dark:"",size:"18"}},[e._v("mdi-account-question")]),n("h2",{staticClass:"subtitle-1 white--text font-weight-light"},[e._v(e._s(e.message.name))])],1),n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"10"}},[e._v(e._s(e.message.message[0]))]),n("v-col",{staticClass:"hidden-sm-and-down text-right",attrs:{md:"2"}},[n("v-icon",{attrs:{size:"32"}},[e._v("mdi-calendar-text")])],1)],1)],1)],1)],1)},z=[],A={name:"ZampChatMessage",props:{message:Object},data:function(){return{inMessage:this.message}},computed:{computeShowLeft:function(){console.log("computeShowLeft() called with: ",this.inMessage);let e=!0;return this.inMessage.me&&(e=!1),console.log("computeShowLeft() returns: ",e),e},computeShowRight(){return!this.computeShowLeft},computeMiddleBallColor(){return 1!=this.inMessage.me?"purple lighten-2":"blue lighten-2"},computeClassForCardTitleBackground(){return 1!=this.inMessage.me?"purple":"blue"}},methods:{myDummyTrue(){return!0}}},B=A,E=n("b0af"),R=n("99d9"),D=n("62ad"),F=n("a523"),H=n("0fd9"),W=n("1e06"),Z=Object(u["a"])(B,$,z,!1,null,null,null),q=Z.exports;m()(Z,{VCard:E["a"],VCardTitle:R["a"],VCol:D["a"],VContainer:F["a"],VIcon:f["a"],VRow:H["a"],VTimelineItem:W["a"]});var Y={name:"Chat",data:function(){return{ws:void 0,showNickSelect:!0,isJoinDisabled:!0,nickname:"",nextMessage:"",messageIndex:0,chatHistory:[]}},mounted(){this.wsConnect();let e=this;console.log("chat component mounted"),setInterval((function(){console.log("prepare send zPing message"),e.sendZPing()}),3e4)},methods:{wsConnect:function(){let e=null;e=location.protocol.includes("https")?"wss":"ws";let t=new WebSocket(e+"://"+location.host+"/api/v1/wsocket");const n=this.chatHistory;t.onmessage=function(e){console.log("new peer message received:",e.data);let t=JSON.parse(e.data),o={id:this.messageIndex++,me:!1,name:t.name,message:t.message};e.data.includes("zPing")||n.push(o)},t.onerror=function(e){console.error("WebSocket error observed:",e),t.close()},t.onopen=function(e){console.log("WebSocket is open now:",e)},t.onclose=function(e){console.log("WebSocket is closed now:",e)},this.ws=t},handleSend:function(){this.addLocalMessage()},addRemoteMessage:function(){},addLocalMessage:function(){let e={id:this.messageIndex++,me:!0,name:this.nickname,message:[this.nextMessage]};this.chatHistory.push(e);let t=JSON.stringify(e);this.ws.send(t),this.nextMessage="",this.setFocusToInput()},sendZPing:function(){1!==this.ws.readyState&&(console.log("reconnecting..."),this.ws.close(),this.wsConnect());let e={id:-1,me:!1,name:this.nickname,message:["zPing"]},t=JSON.stringify(e);this.ws.send(t),console.log("zPing sent WebSocket:readyState="+this.ws.readyState)},setFocusToInput:function(){this.$refs.focusNextMessage.focus()},handleJoin:function(){""!==this.nickname&&(this.showNickSelect=!1);let e=this;this.$nextTick(()=>{e.$refs.focusNextMessage.focus()})},handleNicknameInput:function(e){if(console.log("change detected for nickname: "+e),this.nickname=e,void 0!==e){let t=e.length;this.isJoinDisabled=!(t>0)}}},components:{"zamp-chat-message":q}},G=Y,K=n("8654"),Q=n("8414"),U=Object(u["a"])(G,L,J,!1,null,null,null),X=U.exports;m()(U,{VBtn:h["a"],VCol:D["a"],VContainer:F["a"],VRow:H["a"],VTextField:K["a"],VTimeline:Q["a"]});var ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"grey lighten-3"},[n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("span",[e._v("vue:")])]),n("v-col",{attrs:{cols:"8"}},[n("span",[e._v(e._s(e.vueVersion))])])],1),n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("span",[e._v("vuetify:")])]),n("v-col",{attrs:{cols:"8"}},[n("span",[e._v(e._s(e.vuetifyVersion))])])],1)],1)},te=[],ne={data:()=>({vueVersion:void 0,vuetifyVersion:"fix 2.3.7"}),mounted(){this.vueVersion=this.$store.state.software[0].version}},oe=ne,se=Object(u["a"])(oe,ee,te,!1,null,null,null),ae=se.exports;m()(se,{VCol:D["a"],VContainer:F["a"],VRow:H["a"]}),o["a"].use(P["a"]);var re=new P["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:X},{path:"/info",name:"info",component:ae},{path:"/about",name:"about",component:()=>n.e("chunk-2d22d746").then(n.bind(null,"f820"))},{path:"*",redirect:"/"}]}),ie=n("2f62");o["a"].use(ie["a"]),o["a"].version;var ce=new ie["a"].Store({state:{network:{ws_connected:!1},software:[{component:"vue",version:o["a"].version}]},mutations:{},actions:{}}),le=n("f309");o["a"].use(le["a"]);const ue={icons:{iconfont:"mdi"}};var de=new le["a"](ue);n("d1e7");o["a"].config.productionTip=!1,new o["a"]({router:re,store:ce,vuetify:de,render:e=>e(j)}).$mount("#app")},ebe3:function(e,t,n){"use strict";var o=n("14a6"),s=n.n(o);s.a}});
//# sourceMappingURL=app.4c730620.js.map